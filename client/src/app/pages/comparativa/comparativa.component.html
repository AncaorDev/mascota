
<section class="theme-ancaor" id="contenido" [ngSwitch]="step">
  <div class="content-section" *ngSwitchCase="0">
    <h2>¿Cuentanos de tu mascota?</h2>
    <div class="continue">
      <button mat-fab color="primary" [disabled]="formDetail.invalid" (click)="formDetail.valid &amp;&amp; goToStep(1)">
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <form class="division" [formGroup]="formDetail">
      <div class="top">
        <div class="content div1">
          <div class="span-content"><span>Alimentación</span></div>
          <div class="select">
            <mat-form-field class="full-width" appearance="fill" color="accent">
              <mat-select placeholder="Seleccione una opción" formControlName="feeding">
                <mat-option *ngFor="let list of data_opt?.feeding?.data" [value]="list.value">{{ list.desc }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="content div2">
          <div class="span-content"><span>Raza</span></div>
          <div class="select">
            <mat-form-field class="full-width" appearance="fill" color="accent">
              <mat-select placeholder="Seleccione una opción" formControlName="race">
                <mat-option *ngFor="let list of data_opt?.race?.data" [value]="list.value">{{ list.desc }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="top">
        <div class="content div3">
          <div class="span-content"><span>Tamaño</span></div>
          <div class="select">
            <mat-form-field class="full-width" appearance="fill" color="accent">
              <mat-select placeholder="Seleccione una opción" formControlName="size">
                <mat-option *ngFor="let list of data_opt?.size?.data" [value]="list.value">{{ list.desc }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="content div4">
          <div class="span-content"><span>Edad</span></div>
          <div class="select">
            <mat-form-field class="full-width" appearance="fill" color="accent">
              <mat-select placeholder="Seleccione una opción" formControlName="age">
                <mat-option *ngFor="let list of data_opt?.age?.data" [value]="list.value">{{ list.desc }}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="content-section" *ngSwitchCase="1">
    <h2>Quiero recomendación por:</h2>
    <div class="back">
      <button mat-fab color="primary" (click)="goToStep(0)">
        <mat-icon>arrow_back</mat-icon>
      </button>
    </div>
    <div class="continue">
      <button mat-fab color="primary" [disabled]="!sabor &amp;&amp; !beneficios" (click)="(sabor || beneficios) &amp;&amp; goToStep(sabor ? 2 : 3)">
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <div class="division">
      <div class="card card__top" (click)="sabor = true;beneficios = false;"><img src="./assets/images/sabor.png" alt="" [ngClass]="{'color' : sabor }">
        <div class="text">
          <p>Sabor</p><img src="./assets/images/huella.png" alt="">
        </div>
      </div>
      <div class="card card__bottom" (click)="sabor = false;beneficios = true;"><img src="./assets/images/beneficios.png" alt="" [ngClass]="{'color' : beneficios }">
        <div class="text">
          <p>Beneficios</p><img src="./assets/images/huella.png" alt="">
        </div>
      </div>
    </div>
  </div>
  <div class="content-section" *ngSwitchCase="2">
    <h2>Elija el sabor</h2>
    <div class="back">
      <button mat-fab color="primary" (click)="goToStep(1)">
        <mat-icon>arrow_back</mat-icon>
      </button>
    </div>
    <div class="continue">
      <button mat-fab color="primary" [disabled]="tastesSelect()" (click)="!tastesSelect() &amp;&amp; resumeData()">
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <div class="division">
      <div class="card-taste" *ngIf="!tastes">
        <mat-spinner diameter="30"></mat-spinner>
      </div>
      <div class="card-taste" *ngIf="tastes">
        <div class="taste-item" *ngFor="let item of tastes;" (click)="item.enable = !item.enable" [ngClass]="{'disable' : !item.enable}">
          <p>{{ item.desc_sabor }}</p><img [src]="item.imagen" alt="">
        </div>
      </div>
    </div>
  </div>
  <div class="content-section" *ngSwitchCase="3">
    <h2>Elija el beneficio</h2>
    <div class="back">
      <button mat-fab color="primary" (click)="goToStep(1)">
        <mat-icon>arrow_back</mat-icon>
      </button>
    </div>
    <div class="continue">
      <button mat-fab color="primary" [disabled]="beneficeSelect()" (click)="!beneficeSelect() &amp;&amp; dataBenefice()">
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <div class="division">
      <div class="card-taste" *ngIf="!tastes">
        <mat-spinner diameter="30"></mat-spinner>
      </div>
      <div class="card-taste" *ngIf="tastes">
        <div class="taste-item" *ngFor="let item of benefice;" (click)="item.enable = !item.enable" [ngClass]="{'disable' : !item.enable}">
          <p>{{ item.desc_beneficio }}</p><img [src]="item.imagen" alt="">
        </div>
      </div>
    </div>
  </div>
  <div class="content-section" *ngSwitchCase="5">
    <h2>Las mejores recomendaciones de sabor según lo que selecciónó son:</h2>
    <div class="back">
      <button mat-fab color="primary" (click)="goToStep()">
        <mat-icon>arrow_back</mat-icon>
      </button>
    </div>
    <div class="continue">
      <button mat-fab color="primary" [disabled]="!sabor &amp;&amp; !beneficios" (click)="formDetail.valid &amp;&amp; goToStep(3)">
        <mat-icon>send</mat-icon>
      </button>
    </div>
    <div class="division">
      <div class="flex-center" *ngIf="!filterData">
        <mat-spinner diameter="30"></mat-spinner>
      </div>
      <div class="card-productos" *ngIf="filterData">
        <mat-list *ngIf="filterData &amp;&amp; filterData.length &gt; 0">
          <mat-list-item *ngFor="let item of filterData"><img matListAvatar [src]="item?.imagen" alt="">
            <h4 mat-line>{{item?.nombre }}</h4>
            <p mat-line>Precio {{item?.precio }}</p>
            <p mat-line>{{item?.peso }}</p>
            <p mat-line>Marca: {{item?.marca }}</p><span class="cs-spacer"></span><a mat-raised-button [href]="item?.enlace" target="_blank">web</a>
          </mat-list-item>
        </mat-list>
        <h3 *ngIf="filterData &amp;&amp; filterData.length == 0"> No se encontraron resultados</h3>
      </div>
    </div>
  </div>
</section>